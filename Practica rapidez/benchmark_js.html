<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Benchmark JS</title>
    <style>
        body, html { margin: 0; height: 100%; font-family: sans-serif; }
        #pantalla { height: 100vh; display: flex; justify-content: center; align-items: center; color: white; cursor: pointer; text-align: center; background-color: #2b87d1; }
        .rojo { background-color: #ce2633 !important; }
        .verde { background-color: #4bdb66 !important; }
    </style>
</head>
<body>
    <div id="pantalla">
        <h1 id="texto">Haz clic para empezar</h1>
    </div>

    <script>
        var zona = document.getElementById('pantalla');
        var texto = document.getElementById('texto');
        var momentoInicio;
        var reloj;
        var paso = 1; 
        

        zona.onclick = function() {
            if (paso == 1 || paso == 4) {
                paso = 2;
                zona.className = 'rojo';
                texto.innerText = 'Espera al verde...';
                
                var azar = Math.floor(Math.random() * 3000) + 2000;
                reloj = setTimeout(function() {
                    paso = 3;
                    zona.className = 'verde';
                    texto.innerText = '¡CLICA YA!';
                    momentoInicio = Date.now();
                }, azar);

            } else if (paso == 2) {
                clearTimeout(reloj);
                paso = 4;
                zona.className = '';
                texto.innerText = '¡Muy pronto! Clica para reintentar';

            } else if (paso == 3) {
                var ahora = Date.now();
                var calculo = ahora - momentoInicio;
                paso = 4;
                zona.className = '';
                texto.innerText = calculo + ' ms. Clica para repetir';
            }
        };
    </script>
</body>
</html>